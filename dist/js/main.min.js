const token="6b6edd59-d784-4e87-a1cb-342f6158ace1";function displayCard(e){const t=document.querySelector("#taskBoard"),o=document.createElement("div");o.className="card",o.setAttribute("data-id",e.id),o.setAttribute("data-status",e.status),o.setAttribute("data-priority",e.priority),o.innerHTML=`\n      <p>Name: ${e.name}</p>\n      <p>Doctor: ${e.doctor}</p>\n      <button onclick="showMore(${e.id})">Show more</button>\n      <button onclick="editCard(${e.id})">Edit</button>\n      <span class="delete-icon" onclick="deleteCard(${e.id})">&#10006;</span>\n    `,t.appendChild(o)}function getAllCards(){fetch("https://ajax.test-danit.com/api/v2/cards",{headers:{"Content-Type":"application/json",Authorization:"Bearer "+token}}).then(e=>e.json()).then(e=>{e.forEach(e=>{displayCard(e)})}).catch(e=>console.error("Error:",e))}function deleteCard(e){confirm("Are you sure, you want to delete?")&&fetch("https://ajax.test-danit.com/api/v2/cards/"+e,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"Bearer "+token}}).then(t=>{if(t.ok){document.querySelector(`.card[data-id="${e}"]`).remove()}else console.error("Error to delete:",t.statusText)}).catch(e=>console.error("Error:",e))}function editCard(e){const t=document.querySelector(`.card[data-id="${e}"]`),o=t.querySelector("p:first-child").innerText.split(": ")[1],n=t.querySelector("p:nth-child(2)").innerText.split(": ")[1],r=document.createElement("div");r.className="edit-form",r.innerHTML=`\n    <label for="editName">Name:</label>\n    <input type="text" id="editName" value="${o}">\n    <label for="editDoctor">Doctor:</label>\n    <input type="text" id="editDoctor" value="${n}">\n    <button onclick="saveChanges(${e})">Save</button>\n  `,t.innerHTML="",t.appendChild(r)}function saveChanges(e){const t=document.querySelector(`.card[data-id="${e}"]`),o=t.querySelector(".edit-form"),n=o.querySelector("#editName").value,r=o.querySelector("#editDoctor").value,a={name:n,doctor:r};fetch("https://ajax.test-danit.com/api/v2/cards/"+e,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer "+token},body:JSON.stringify(a)}).then(e=>e.json()),t.innerHTML=`\n    <p>Name: ${n}</p>\n    <p>Doctor: ${r}</p>\n    <button onclick="showMore(${e})">Show more</button>\n    <button onclick="editCard(${e})">Edit</button>\n    <span class="delete-icon" onclick="deleteCard(${e})">&#10006;</span>\n  `}function showMore(e){const t=document.querySelector(`.card[data-id="${e}"]`);fetch("https://ajax.test-danit.com/api/v2/cards/"+e,{headers:{"Content-Type":"application/json",Authorization:"Bearer "+token}}).then(e=>e.json()).then(e=>{t.innerHTML+=`\n        <p>Some text: ${e.description}</p>\n        <p>Some text: ${e.title}</p>\n      `}).catch(e=>console.error("Error:",e))}function filterCards(){const e=document.getElementById("searchInput").value.toLowerCase(),t=document.getElementById("statusFilter").value,o=document.getElementById("priorityFilter").value;document.querySelectorAll(".card").forEach(n=>{const r=n.querySelector("p:first-child"),a=n.getAttribute("data-status"),i=n.getAttribute("data-priority"),c=r?r.innerText.split(": ")[1].toLowerCase():"",d=a?a.toLowerCase():"",s=i?i.toLowerCase():"",l=c.includes(e),u=""===t||d===t,p=""===o||s===o;n.style.display=l&&u&&p?"":"none"})}getAllCards();
//# sourceMappingURL=../sourcemaps/main.min.js.map
